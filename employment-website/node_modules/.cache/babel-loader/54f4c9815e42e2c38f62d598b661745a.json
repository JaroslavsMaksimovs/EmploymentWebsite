{"ast":null,"code":"import _slicedToArray from \"/Users/Jaroslav/Desktop/COMP0029/employment-website/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\nvar _jsxFileName = \"/Users/Jaroslav/Desktop/COMP0029/employment-website/src/pages/LoginPage.js\";\nimport React, { useState } from 'react';\nimport { verify } from 'password-hash';\n\nconst LoginPage = () => {\n  const _useState = useState(''),\n        _useState2 = _slicedToArray(_useState, 2),\n        email = _useState2[0],\n        setEmail = _useState2[1];\n\n  const _useState3 = useState(''),\n        _useState4 = _slicedToArray(_useState3, 2),\n        password = _useState4[0],\n        setPassword = _useState4[1];\n\n  const login = async () => {\n    const result = await fetch(\"/api/seekers/\".concat(email));\n    const accountInfo = await result.json();\n    console.log(accountInfo);\n    const hashPassword = accountInfo.hashPassword;\n\n    if (verify(password, hashPassword)) {\n      var message = document.getElementById(\"loginSuccessful\");\n      message.style.display(\"block\");\n    }\n  };\n\n  return React.createElement(React.Fragment, null, React.createElement(\"div\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 30\n    },\n    __self: this\n  }, React.createElement(\"h1\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 31\n    },\n    __self: this\n  }, \"Login\"), React.createElement(\"label\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 32\n    },\n    __self: this\n  }, \"E-mail:\", React.createElement(\"input\", {\n    type: \"text\",\n    value: email,\n    onChange: event => setEmail(event.target.value),\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 34\n    },\n    __self: this\n  })), React.createElement(\"label\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 36\n    },\n    __self: this\n  }, \"Password:\", React.createElement(\"input\", {\n    type: \"password\",\n    value: password,\n    onChange: event => setPassword(event.target.value),\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 38\n    },\n    __self: this\n  })), React.createElement(\"p\", {\n    id: \"loginSuccessful\",\n    className: \"hidden\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 40\n    },\n    __self: this\n  }, \" Login successful \"), React.createElement(\"p\", {\n    id: \"incorrectEmail\",\n    className: \"hidden\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 41\n    },\n    __self: this\n  }, \" This account does not exist \"), React.createElement(\"p\", {\n    id: \"incorrectPassword\",\n    className: \"hidden\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 42\n    },\n    __self: this\n  }, \" Incorrect password \"), React.createElement(\"button\", {\n    onClick: () => login(),\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 43\n    },\n    __self: this\n  }, \"Log in\")));\n};\n\nexport default LoginPage;","map":{"version":3,"sources":["/Users/Jaroslav/Desktop/COMP0029/employment-website/src/pages/LoginPage.js"],"names":["React","useState","verify","LoginPage","email","setEmail","password","setPassword","login","result","fetch","accountInfo","json","console","log","hashPassword","message","document","getElementById","style","display","event","target","value"],"mappings":";;AAAA,OAAOA,KAAP,IAAgBC,QAAhB,QAAgC,OAAhC;AACA,SAASC,MAAT,QAAuB,eAAvB;;AAEA,MAAMC,SAAS,GAAG,MAAM;AAAA,oBACIF,QAAQ,CAAC,EAAD,CADZ;AAAA;AAAA,QACfG,KADe;AAAA,QACRC,QADQ;;AAAA,qBAEUJ,QAAQ,CAAC,EAAD,CAFlB;AAAA;AAAA,QAEfK,QAFe;AAAA,QAELC,WAFK;;AAKtB,QAAMC,KAAK,GAAG,YAAY;AACxB,UAAMC,MAAM,GAAG,MAAMC,KAAK,wBAAiBN,KAAjB,EAA1B;AACA,UAAMO,WAAW,GAAG,MAAMF,MAAM,CAACG,IAAP,EAA1B;AACAC,IAAAA,OAAO,CAACC,GAAR,CAAYH,WAAZ;AACA,UAAMI,YAAY,GAAGJ,WAAW,CAACI,YAAjC;;AACA,QAAIb,MAAM,CAACI,QAAD,EAAWS,YAAX,CAAV,EAAoC;AAClC,UAAIC,OAAO,GAAGC,QAAQ,CAACC,cAAT,CAAwB,iBAAxB,CAAd;AACAF,MAAAA,OAAO,CAACG,KAAR,CAAcC,OAAd,CAAsB,OAAtB;AAED;AAEF,GAXD;;AAmBA,SACE,0CACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,aADF,EAEE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gBAEE;AAAO,IAAA,IAAI,EAAC,MAAZ;AAAmB,IAAA,KAAK,EAAEhB,KAA1B;AAAiC,IAAA,QAAQ,EAAGiB,KAAD,IAAWhB,QAAQ,CAACgB,KAAK,CAACC,MAAN,CAAaC,KAAd,CAA9D;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAFF,CAFF,EAME;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBAEE;AAAO,IAAA,IAAI,EAAC,UAAZ;AAAuB,IAAA,KAAK,EAAEjB,QAA9B;AAAwC,IAAA,QAAQ,EAAGe,KAAD,IAAWd,WAAW,CAACc,KAAK,CAACC,MAAN,CAAaC,KAAd,CAAxE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAFF,CANF,EAUE;AAAG,IAAA,EAAE,EAAG,iBAAR;AAA0B,IAAA,SAAS,EAAC,QAApC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,0BAVF,EAWE;AAAG,IAAA,EAAE,EAAG,gBAAR;AAAyB,IAAA,SAAS,EAAC,QAAnC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,qCAXF,EAYE;AAAG,IAAA,EAAE,EAAG,mBAAR;AAA4B,IAAA,SAAS,EAAC,QAAtC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,4BAZF,EAaE;AAAQ,IAAA,OAAO,EAAE,MAAMf,KAAK,EAA5B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,cAbF,CADF,CADF;AAuBD,CA/CD;;AAkDA,eAAeL,SAAf","sourcesContent":["import React, { useState } from 'react';\nimport { verify } from 'password-hash';\n\nconst LoginPage = () => {\n  const [email, setEmail] = useState('');\n  const [password, setPassword] = useState('');\n\n\n  const login = async () => {\n    const result = await fetch(`/api/seekers/${email}`);\n    const accountInfo = await result.json();\n    console.log(accountInfo);\n    const hashPassword = accountInfo.hashPassword;\n    if (verify(password, hashPassword)) {\n      var message = document.getElementById(\"loginSuccessful\");\n      message.style.display(\"block\");\n\n    }\n\n  }\n\n\n\n\n\n\n\n  return(\n    <>\n      <div>\n        <h1>Login</h1>\n        <label>\n          E-mail:\n          <input type=\"text\" value={email} onChange={(event) => setEmail(event.target.value)} />\n        </label>\n        <label>\n          Password:\n          <input type=\"password\" value={password} onChange={(event) => setPassword(event.target.value)} />\n        </label>\n        <p id = \"loginSuccessful\" className=\"hidden\"> Login successful </p>\n        <p id = \"incorrectEmail\" className=\"hidden\"> This account does not exist </p>\n        <p id = \"incorrectPassword\" className=\"hidden\"> Incorrect password </p>\n        <button onClick={() => login()}>Log in</button>\n      </div>\n    </>\n  );\n\n\n\n\n}\n\n\nexport default LoginPage;\n"]},"metadata":{},"sourceType":"module"}